<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Build Android Apps with Gradle</title>
    
    <meta name="description" content="Eine Einführung in Gradle - ein jvm basiertes Buildsystem" />
    <meta name="author" content="Rene Gröschke" />

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />
    <link href="css/impress-demo.css" rel="stylesheet" />
    
    <link rel="shortcut icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />

    <!-- Chang URLs to wherever Video.js files will be hosted -->
      <link href="video-js.css" rel="stylesheet" type="text/css">
    <link type="text/css" rel="stylesheet" href="css/sh.css">
    
      <!-- video.js must be in the <head> for older IEs to work. -->
      <script src="video.js"></script>

      <!-- Unless using the CDN hosted version, update the URL to the Flash SWF -->
      <script>
        _V_.options.flash.swf = "video-js.swf";
      </script>
    <script type="text/javascript" src="js/shmain.js"></script>
    <script type="text/javascript" src="js/sh_java.js"></script>
    
    

</head>
<body class="impress-not-supported" onload="sh_highlightDocument('js/', 'sh_java.js');">

<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>
<div id="impress">
    <div id="step1" class="step" data-x="0" data-y="0" data-scale="35">
        <div class="presentation-overview" id="presentation-overview">
        <p><img src="img/gradle.png" alt="gradle logo" id="gradlelogo"/>
            <h2>a better way to build android apps</h2>
        </p>
        </div>
    </div>
    <div id="step2" class="step" data-x="-12000" data-y="-1500" data-scale="0.1">
        <div class="title">
            <div id="title-text1">Why Gradle?</div>
        </div>
    </div>

    <div id="step3" class="step" data-x="-12600" data-y="-2200" data-scale="0.1">
        <div class="big bold">
            <div id="title-text1">the usual suspects...</div>
        </div>
    </div>
   
   <div id="step4" class="step" data-x="-12600" data-y="-2180" data-z="-50" data-scale="0.1">
        <div class="big bold">
            <div id="title-text2"><img src="img/ant.gif"><img src="img/maven_logo.gif"></div>
        </div>
    </div>

    <div id="step5" class="step" data-x="-12600" data-y="-2120" data-z="0" data-scale="0.1">
        <div class="big bold">
            <div id="changed_reqs_1">imperative</div>
            <div id="title-text2">vs.</div>
            <div id="changed_reqs_1">declarative</div>
        </div>
    </div>
    
    <div id="step6" class="step" data-x="-14000" data-y="-800" data-z="1000" data-rotate-x="-30" data-rotate-y="-30" data-scale="1">
        <div class="title">
            <div id="changed_reqs_1">Demo</div>
        </div>
    </div>

    <div id="step7" class="step" data-x="-13000" data-y="-1600" data-z="1200" data-rotate-x="-30" data-rotate-y="-30" data-scale="1">
        <div class="big bold">
            <div id="punchline2">Declarative?</div>
            <div id="punchline1">YES!</div>
        </div>
    </div>

    <div id="step8" class="step" data-x="-11500" data-y="-2800" data-z="1200" data-rotate-x="-30" data-rotate-y="-30" data-scale="1">
        <div class="big bold">
            <div id="punchline2">Restrictive?</div>
            <div id="punchline1">NO!</div>
        </div>
    </div>


    <div id="step9" class="step" data-x="-16500" data-y="-2800" data-z="1200" data-rotate-x="-30" data-rotate-y="-30"  data-scale="1">
        <div class="big bold">
            <div id="punchline2">extendable Build DSL</div>
            <div id="title-text1">vs.</div>
            <div id="punchline2">Build Framework</div>
        </div>
    </div>

    <div id="step10" class="step" data-x="-16250" data-y="-3010" data-z="1550" data-rotate-x="-30" data-rotate-y="-30"  data-scale="1">
        <div class="bold">
           <p class="light-red">sourceSets</p>
        </div>
    </div>

    <div id="step11" class="step" data-x="-16700" data-y="-3010" data-z="1550" data-rotate-x="-30" data-rotate-y="-30"  data-scale="1">
        <div class="bold">
           <p class="light-red">integrationTests</p>
        </div>
    </div>

    <div id="step12" class="step" data-x="-16500" data-y="-2410" data-z="1050" data-rotate-x="-30" data-rotate-y="-30"  data-scale="1">
        <div class="bold">
           <div class="light-red">apply plugin:'java'</br>apply from:'integration-test'</div>
           <div class="light-red"></div>
        </div>
    </div>

    <div id="step13" class="step" data-x="-9000" data-y="-2010" data-z="100" data-rotate-x="-10" data-rotate-y="-20" data-scale="2">
        <div class="big bold">
      <div id="punchline2">incremental</div>
            <div id="punchline2">Build</div>
        </div>
    </div>
  <div id="step14" class="step" data-x="-5000" data-y="-2010" data-z="100" data-rotate-x="-10" data-rotate-y="-20" data-scale="2">
    <div class="big bold">
            <div id="punchline2">Going</div>
            <div id="punchline2">Android</div>
    </div>
  </div>
  
  <div id="step15" class="step" data-x="-7500" data-y="-1500" data-z="0" data-scale="0.5">
    <div class="slide">
        <div class="bold" id="big">
            <u>Current Status</u>
            <br/>
        </div>
        <div class="simpleslide">
            Two (official) build mechanisms
            <li>Eclipse</li>
            <li>Ant - just a script</li>
            <li>(maven plugin)</li>
        </div>
        <div class="simpleslide">
            Customization?
            <li>Nothing in ADT</li>
            <li>Manually hacking in ant</li>
        </div>
    </div>
 </div>

  <div id="step16" class="step" data-x="-6500" data-y="-1500" data-z="0" data-scale="0.5">
        <div class="slide">
            <div class="bold" id="big">
                <u>Features</u>
                <br/>
            </div>
            <div class="simpleslide">
                <ul>
                    <li>Dependency Management</li>
                    <li>Build more than one version of the app
                        <ul>
                                <li>Customize manifest per version</li>
                                <li>Custom code/resource per version</li>
                                <li>better handle debug vs release</li><!-- check! -->
                        </ul>
                    </li>
                    <li>Flexible for developers
                        <ul>
                            <li>Easier setup</li>
                            <li>customization, extensibility</li>
                            <li>make it work for their needs</li>
                        </ul>
                    </li>
                    <li>IDE integration</li>
                    </ul>
            </div>
        </div>
  </div>

<div id="step17" class="step" data-x="-5500" data-y="-1500" data-z="0" data-scale="0.5">
        <div class="slide">
            <div class="bold" id="big">
                <u>Why Gradle</u>
                <br/>
            </div>
            <div class="simpleslide">
                <ul>
                    <li>Allows really good implementation
                        <ul>
                        	<li>custom DSL</li>
                            <li>plugin with clear API for extensibility</li>
                        </ul>
                    </li>
                    <li><strong>very</strong> flexible for customization</li>
                    <li>open minded<!--, doesnt force devs into a certain way -->
                        <ul>
                            <li>ant target support, Maven repos, ivy repos...</li>
                        </ul>
                    </li>
                    <li>Tooling API for IDE integration</li>
                    </ul>
            </div>
        </div>
  </div>
  <div id="step18" class="step" data-x="-4500" data-y="-1500" data-scale="0.5">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big"><u>Product Flavours
        </u></br></div>
        <div><br/></div>
        <ul> 
          <div align="right">"a way to generate several versions of the same app"</div><br/>
          <li>Source code + resources overlay
            <ul>
                <li>allow custom dependencies</li>
            </ul>
          </li><br/>
          <li>Customize app parameters
            <ul>
                <li>package name</li>
                <li>min/targetSdkVersion</li>
                <li>versionCodeName</li>
                <li>signing info</li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
</div>
<div id="step19" class="step" data-x="-3500" data-y="-1500" data-scale="0.5">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big"><u>Build types
        </u></br></div>
        <ul> 
          <div align="right">"controls how an app is built"</div><br/>
          <li>Source code + resources overlay
            <ul>
                <li>also custom dependencies</li>
            </ul>
          </li><br/>
          <li>Customize app parameters
            <ul>
                <li>debugable flag</li>
                <li>native debug compilation flag</li>
                <li>package suffix</li>
                <li>debug signing</li>
                <li>proguard options</li>
                <li>2 default types (debug + release)</li>      
                <!--<li>orthogonal to product flavours</li>-->
            </ul>
          </li>
        </ul>
      </div>
    </div>
</div>

<div id="step20" class="step" data-x="-2500" data-y="-1500" data-scale="0.5">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big"><u>Build variants
        </u></br></div>
        <div><br/></div>
		<div align="right">"a variant is always a flavour + a type"</div><br/>        
        <table>
            <tr >
                <td width="200px"></td>
                <td width="300px">debug</td>
                <td width="300px">release</td>
            </tr>
            <tr>
                <td>free</td>
                <td>free-debug</td>
                <td>free-release</td>
            </tr>
            <tr>
                <td>payed</td>
                <td>payed-debug</td>
                <td>payed-release</td>
            </tr>
        </table>
        <ul>
            <li>    
                manage overlay<br/>
                <strong>build type -> flavour -> main</strong>
            </li>
        </ul>
      </div>
    </div>
</div>

<div id="step21" class="step" data-x="-1500" data-y="-1500" data-scale="0.5">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big"><u>Build variants II
        </u></br></div>
        <div><br/></div>
<ul>
    <li>product flavour groups</li>
</ul>       
        <table>
            <tr>
                <td width="120px"></td>
                <td width="120px"></td>
                <td width="300px">debug</td>
                <td width="300px">release</td>
            </tr>
            <tr>
                <td>free</td>
                <td>x86</td>
                <td>free-x86-debug</td>
                <td>free-x86-release</td>
            </tr>
            
            <tr>
                <td></td>
                <td>ARM</td>
                <td>free-ARM-debug</td>
                <td>free-ARM-release</td>
            </tr>
            <tr height="20px">
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>payed</td>
                <td>x86</td>
                <td>payed-x86-debug</td>
                <td>payed-x86-release</td>
            </tr>
            <tr>
                <td></td>
                <td>ARM</td>
                <td>payed-ARM-debug</td>
                <td>payed-ARM-release</td>
            </tr>
        </table>
      </div>
    </div>
</div>




<div id="step23" class="step" data-x="-500" data-y="-1500" data-z="10" data-scale="0.5">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big">
            <u>SourceSets</u></br>
        </div>  
    </div>
<pre>
        <br/>
    src/
        main/
            AndroidManifest.xml
            java/
            resources/
            assets/ <!--lookup-->
            ...
        debug/
            ...
        release/
            ...
        paid/
            ...
        free/
            ...
   </pre>
        </div>
</div>

<div id="step24" class="step" data-x="-500" data-y="-1000" data-z="-1" data-scale="0.5" data-rotate-y="180">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big">
            <u>Library Projects</u></br>
        </div>
        <ul> 
          <li>Binary bundle <!--aar --></li>
          <li>Uploadable to Maven, Ivy, ...
            <ul>
                <li>declare their own dependencies</li>
            </ul>
          </li><br/>
          <li>Contain:
            <ul>
                <li>Compiled Code</li>
                <li>Resources</li>
                <li>+more
                    <ul>
                        <li>custom proguard rules?</li>
                        <li>custom lint checks</li>
                        <li>annotation processor</li>
                        <li>IDE plugin?</li>      
                    </ul>
                </li>
            </ul>   
          </li>
        </ul>
    </div>
</div>
</div>

<div id="step25" class="step" data-x="-1500" data-y="-1000" data-z="-1" data-scale="0.5" data-rotate-y="180">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big">
            <u>Testing</u></br>
        </div>
        <ul> 
          <li>Embedded in the project <!--aar --></li>
          <li>'test' sourceset is default</li>
          <li>'test&lt;flavor&gt;' sourceset allows flavor specific tests</li>
          <li>APK for library project embed the library to test</li>
        </ul>
    </div>
</div>
</div>

<div id="step26" class="step" data-x="-2500" data-y="-1000" data-z="-1" data-scale="0.5" data-rotate-y="180">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big">
            <u>Using the new build system</u></br>
        </div>
        <ul> 
          <li>Gradle 1.3</li>
          <li>Plugin Maven: com.android.tools.build:gradle:0.3
        </ul>
      <pre class="sh_java">
   buildscript{
     repositories{
        mavenCentral()
     }
     dependencies{
        classpath 'com.android.build:gradle:0.3'
     }
   }
   apply plugin: 'android'
   </pre>
    </div>
</div>
</div>

<div id="step27" class="step" data-x="-3500" data-y="-1000" data-z="-1" data-scale="0.5" data-rotate-y="180">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big">
            <u>Using build types</u></br>
        </div>
      </div>
      <pre class="sh_java">
   android {
       buildTypes {
            debug {
                packageNameSuffix = ".debug"
            }
            
            staging {
                packageNameSuffix = ".staging"
                debuggable = true
                debugSigned = true
            }
            
       }
   }
   </pre>
    </div>
</div>

<div id="step28" class="step" data-x="-4500" data-y="-1000" data-z="-1" data-scale="0.5" data-rotate-y="180">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big">
            <u>Customizing the build</u></br>
        </div>
      </div>
      <pre class="sh_java">
    android {
    }
    
    android.buildVariants.each{ variant ->
        def fooTask = tasks.add(name: "foo${variant.name.capitalize()}", 
                         type:Foo){
		     ...
            
        }
        fooTask.dependsOn variant.javaCompile
        
        variant.dex.dependsOn fooTask
        variant.dex.sourceFiles = files(fooTask.outputFile).files
    }
   </pre>
    </div>
</div>

<div id="step29" class="step" data-x="-5500" data-y="-1000" data-z="-1" data-scale="0.5" data-rotate-y="180">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big"><u>Status</u></br></div>  
            <br/>
            <li>Version 0.3 available now</li>
            <li>Docs at http://tools.android.com</li>
            <li>Discuss on adt-dev (Google Group)</li>
        </div>
    </div>
</div>

<div id="step30" class="step" data-x="-6500" data-y="-1000" data-z="-1" data-scale="0.5" data-rotate-y="180">
    <div class="slide">
      <div class="simpleslide">
        <div class="bold" id="big"><u>Roadmap</u></br></div>  
            <br/>Version 0.4
            <li>Proguard Support</li>
            <li>NDK Support</li>
            <li>Lint Support</li>
            <br/>Version 0.5
            <li>Emma</li>
            <li>AVD Management</li><!--virtuall device management-->
            <br/>Version 0.6
            <li>T.b.d</li>
        </div>
    </div>
</div>

  
<div id="step31" class="step" data-x="-2500" data-y="-2900" data-scale="0.5">
    <div class="title">
        <p><img src="trainings/training_germany.png" width='400px' alt="training germany" id="traininggermany"/>
        </p>
    </div>
</div>

<div id="step32" class="step" data-x="-2500" data-y="-2700" data-scale="0.5">
    <div class="title">
        <p><img src="trainings/training_uk.png" width='400px' alt="training uk" id="traininguk"/>
        </p>
    </div>
</div>

<div id="step33" class="step" data-x="-2500" data-y="-2500" data-scale="0.5">
    <div class="title">
        <p><img src="trainings/training_usa.png" width='400px' alt="training usa" id="trainingusa"/>
        </p>
    </div>
</div>

<div id="step34" class="step" data-x="-2500" data-y="-2200" data-scale="0.5" data-rotate-y="0">
        <p ><img class="roundcorners" src="img/gradlesummit-ad2-250.png" width='600px' alt="training germany" id="gradlesummit"/>
        </p>
  </div>

<div id="step35" class="step" data-x="3200" data-y="-800" data-scale="0.5" data-rotate-y="0">
    <div class="slide" id="businesscard">
        <div class="bc">rene gröschke<br/>
        principal engineer @ gradleware<br/>
        rene.groeschke@gradleware.com<br/>
        @breskeby</div>
        
    </div>
  </div>



        
    <!--
        
        So to make a summary of all the possible attributes used to position presentation steps, we have:
        
        * `data-x`, `data-y`, `data-z` -- they define the position of **the center** of step element on
            the canvas in pixels; their default value is 0;
        * `data-rotate-x`, `data-rotate-y`, 'data-rotate-z`, `data-rotate` -- they define the rotation of
            the element around given axis in degrees; their default value is 0; `data-rotate` and `data-rotate-z`
            are exactly the same;
        * `data-scale` -- defines the scale of step element; default value is 1
        
        These values are used by impress.js in CSS transformation functions, so for more information consult
        CSS transfrom docs: https://developer.mozilla.org/en/CSS/transform
        
    -->
    
</div>

<div class="hint">
    <p>Use a spacebar or arrow keys to navigate</p>
</div>
<script>
if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
}
</script>

<script src="js/impress.js"></script>
<script>impress().init();</script>
</body>
</html>

